<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hourly Cycle Counts</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body { background-color: #f8f9fa; }
        .form-container { max-width: 500px; margin: 0 auto; }
        .error-group { position: relative; }
        .remove-error { position: absolute; right: 0; top: 0; cursor: pointer; }
        /* Seafoam green for Add Error button */
        .btn-seafoam {
            background-color: #20B2AA;
            border-color: #20B2AA;
            color: white;
        }
        .btn-seafoam:hover {
            background-color: #1A9A93; /* Slightly darker for hover */
            border-color: #1A9A93;
        }
    </style>
</head>
<body>
    <div class="container mt-5 form-container">
        <h1 class="text-center mb-4">Cycle Counts</h1>
        <form id="dataForm" class="p-4 bg-white shadow rounded">
            <div class="mb-3">
                <label for="dateTimeInput" class="form-label">Date/Time</label>
                <input type="datetime-local" class="form-control" id="dateTimeInput" name="datetime" required>
            </div>
            <div class="mb-3">
                <label for="dataInput" class="form-label">Enter Cycles</label>
                <input type="text" class="form-control" id="dataInput" name="data" placeholder="Your cycles here" required>
            </div>
            <button type="button" class="btn btn-seafoam w-100 mb-3" id="addErrorButton">Add Error</button>
            <div id="errorFields"></div>
            <button type="submit" class="btn btn-success w-100">Submit</button>
        </form>
        <div id="message" class="mt-3 text-center"></div>
    </div>

    <!-- Bootstrap JS and Custom Script -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        document.getElementById("dataForm").addEventListener("submit", async function(event) {
            event.preventDefault();
            const datetime = document.getElementById("dateTimeInput").value;
            const cycles = document.getElementById("dataInput").value;
            const errorFields = document.querySelectorAll('.error-group');
            let error = '';

            errorFields.forEach(field => {
                const errorSelect = field.querySelector('.errorSelect').value;
                if (errorSelect) error += `${errorSelect};`;
            });

            const csvLine = `${datetime},${cycles},${error}\n`;
            const blobUrl = "https://ceidata.blob.core.windows.net/cyclecounts/data.csv?sv=2022-11-02&ss=bfqt&s
